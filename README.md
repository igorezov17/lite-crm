<h1 align="center">Lite-CRM</h1>

### Инициализация экземпляра приложения
<p align="left">
    В engine/bootstrap происходит инициализация обьекта $di и подключение всех провайдеров в $providers. Дальше мы идем по списку провайдеров и производим инициализацию обьекта каждого из сервисов с помощью соотвествующего провайдера, после чего запускаем у инициализированного сервиса метод init(), который добавляет сервис в Di-контейнер.Дальше происходит инициализация обьекта основного приложения $app и запуск его метода run().
</p>

### Инициализация провайдеров
<p align="left">
    Разберем на примере роутинга процесс инициализация провайдеров. У нас список провайдеров в engine/Config/services. Их мы получаем в файл engine/bootstrap и на каждой итерации попадаем в соотвевующий каждому сервису провайдер, которые находятся в папке: engine/Services. Каждый из провадйеров внутри себя производит инициализацию соотвествующего сервиса и кладет его в Di-контейнер
</p>

### Роутинг
<p align="left">
    Стартовая точка находится в файле engine/Core/Router/RouteDispatcher.php
    В методе run() класса app в файле bootsrap мы из Di-контейнера получаем экземпляр роутера. После чего запрашиваем $dispatcher по url и method. Инициализация маршрутов находиться в engine/Config/routes.php. В RouteDispatcher мы получаем все роуты и инициализируем экземпляр класса UrlDispatcher, который отвечает за сверку url со списком роутов и инициализацией экземпляра класса DispatchController, который отвечает за подключения контроллера и передачу параметров. В конечном счете контроллер и его акшин попадают в переменую $dispatcher в методе run() обьекта $app, после чего используя call_user_func() происходит запуск контроллер и его метода.
</p>